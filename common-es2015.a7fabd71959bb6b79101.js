(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"4Q0Y":function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var s=r("Nm8O"),n=r("z6cu"),o=r("tk/3"),a=r("AytR"),i=r("JIr8"),l=r("fXoL"),p=r("tyNb"),u=r("7cJM"),c=r("5eHb");let h=(()=>{class e{constructor(e,t,r,s){this._router=e,this._localStoreService=t,this._httpClient=r,this._toastr=s,this.baseUrl=a.a.base_url}getAuthenticatedUser(){const e=new s.a;try{const t=e.decodeToken(this._localStoreService.getItem("access_token").access_token);return this.user=t.user,t.user}catch(t){this._localStoreService.clearLocalStorage(),location.reload(!0),this._router.navigate(["/login"])}}register(e){return this._httpClient.post(this.baseUrl+"user",e)}updateShopOperator(e,t){return this._httpClient.put(this.baseUrl+"shop/operator/"+e,t)}createShopOperator(e){return this._httpClient.post(this.baseUrl+"shop/operator",e)}forgotPassword(e){return this._httpClient.post(this.baseUrl+"user/forgot_password?username="+e,null)}confirmToken(e){const t=(new o.e).set("token",e);return this._httpClient.get(this.baseUrl+"user/confirmToken",{params:t})}resetPasswordByToken(e){return this._httpClient.post(this.baseUrl+"user/confirm/reset_password",e)}resetPassword(e){return this._httpClient.post(this.baseUrl+"user/reset_password",e)}getUsers(e,t,r,s,a,l,p,u,c,h,_){let d=(new o.e).set("page",e).set("page_size",t);return null!=r&&(d=d.append("id",r)),null!=l&&(d=d.append("name",l)),null!=s&&(d=d.append("shop_id",s)),null!=p&&(d=d.append("phone_number",p)),null!=u&&(d=d.append("email_address",u)),null!=a&&(d=d.append("shop_number",a)),null!=c&&(d=d.append("user_number",c)),null!=h&&null!=_&&(d=d.append(h,_)),this._httpClient.get(this.baseUrl+"user",{params:d}).pipe(Object(i.a)(e=>{if(e.error instanceof ErrorEvent);else{if(500===e.status)return this._toastr.error("An error occurred while getting users"),Object(n.a)(e);if(401===e.status)return Object(n.a)(e);if(0===e.status)return this._toastr.error("Something went wrong, Please try again later"),Object(n.a)(e)}return this._toastr.error(e.error.api_code_description),Object(n.a)(e)}))}getSystemRoles(e){let t=new o.e;return null!=e&&(t=t.append("category_id",e)),this._httpClient.get(this.baseUrl+"user/roles",{params:t}).pipe(Object(i.a)(e=>{if(e.error instanceof ErrorEvent);else{if(500===e.status)return this._toastr.error("An error occurred while getting roles"),Object(n.a)(e);if(401===e.status)return Object(n.a)(e);if(0===e.status)return this._toastr.error("Something went wrong, Please try again later"),Object(n.a)(e)}return this._toastr.error(e.error.api_code_description),Object(n.a)(e)}))}}return e.\u0275fac=function(t){return new(t||e)(l.cc(p.e),l.cc(u.a),l.cc(o.b),l.cc(c.b))},e.\u0275prov=l.Ob({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);