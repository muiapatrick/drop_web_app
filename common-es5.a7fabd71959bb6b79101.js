function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"4Q0Y":function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r("Nm8O"),s=r("z6cu"),a=r("tk/3"),o=r("AytR"),i=r("JIr8"),u=r("fXoL"),l=r("tyNb"),c=r("7cJM"),p=r("5eHb"),h=function(){var e=function(){function e(t,r,n,s){_classCallCheck(this,e),this._router=t,this._localStoreService=r,this._httpClient=n,this._toastr=s,this.baseUrl=o.a.base_url}return _createClass(e,[{key:"getAuthenticatedUser",value:function(){var e=new n.a;try{var t=e.decodeToken(this._localStoreService.getItem("access_token").access_token);return this.user=t.user,t.user}catch(r){this._localStoreService.clearLocalStorage(),location.reload(!0),this._router.navigate(["/login"])}}},{key:"register",value:function(e){return this._httpClient.post(this.baseUrl+"user",e)}},{key:"updateShopOperator",value:function(e,t){return this._httpClient.put(this.baseUrl+"shop/operator/"+e,t)}},{key:"createShopOperator",value:function(e){return this._httpClient.post(this.baseUrl+"shop/operator",e)}},{key:"forgotPassword",value:function(e){return this._httpClient.post(this.baseUrl+"user/forgot_password?username="+e,null)}},{key:"confirmToken",value:function(e){var t=(new a.e).set("token",e);return this._httpClient.get(this.baseUrl+"user/confirmToken",{params:t})}},{key:"resetPasswordByToken",value:function(e){return this._httpClient.post(this.baseUrl+"user/confirm/reset_password",e)}},{key:"resetPassword",value:function(e){return this._httpClient.post(this.baseUrl+"user/reset_password",e)}},{key:"getUsers",value:function(e,t,r,n,o,u,l,c,p,h,f){var _=this,d=(new a.e).set("page",e).set("page_size",t);return null!=r&&(d=d.append("id",r)),null!=u&&(d=d.append("name",u)),null!=n&&(d=d.append("shop_id",n)),null!=l&&(d=d.append("phone_number",l)),null!=c&&(d=d.append("email_address",c)),null!=o&&(d=d.append("shop_number",o)),null!=p&&(d=d.append("user_number",p)),null!=h&&null!=f&&(d=d.append(h,f)),this._httpClient.get(this.baseUrl+"user",{params:d}).pipe(Object(i.a)((function(e){if(e.error instanceof ErrorEvent);else{if(500===e.status)return _._toastr.error("An error occurred while getting users"),Object(s.a)(e);if(401===e.status)return Object(s.a)(e);if(0===e.status)return _._toastr.error("Something went wrong, Please try again later"),Object(s.a)(e)}return _._toastr.error(e.error.api_code_description),Object(s.a)(e)})))}},{key:"getSystemRoles",value:function(e){var t=this,r=new a.e;return null!=e&&(r=r.append("category_id",e)),this._httpClient.get(this.baseUrl+"user/roles",{params:r}).pipe(Object(i.a)((function(e){if(e.error instanceof ErrorEvent);else{if(500===e.status)return t._toastr.error("An error occurred while getting roles"),Object(s.a)(e);if(401===e.status)return Object(s.a)(e);if(0===e.status)return t._toastr.error("Something went wrong, Please try again later"),Object(s.a)(e)}return t._toastr.error(e.error.api_code_description),Object(s.a)(e)})))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.cc(l.e),u.cc(c.a),u.cc(a.b),u.cc(p.b))},e.\u0275prov=u.Ob({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}]);